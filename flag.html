<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Congratulations!</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <img src="images/Icon.png" alt="CYA-icon">
        <h1>Congratulations!</h1>
        <div id="flag-content" class="hidden">
            <p>Congrats! The flag is: <strong>CYA{chocolate_cookie_is_the_flag}</strong></p>
        </div>
    </div>

    <script>
        // Function to get a cookie by name
        function getCookie(name) {
            const nameEQ = name + "=";
            const cookies = document.cookie.split(';');
            for (let cookie of cookies) {
                cookie = cookie.trim();
                if (cookie.startsWith(nameEQ)) return cookie.substring(nameEQ.length);
            }
            return null;
        }

        // Validate the cookie value on page load
        window.onload = () => {
            const cookieValue = getCookie("cookie_type");

            // If the cookie value is not 'chocolate', redirect to the error page
            if (cookieValue !== 'chocolate') {
                window.location.href = "error.html";
            } else {
                // Show the flag content if the cookie value is 'chocolate'
                document.getElementById('flag-content').classList.remove('hidden');
            }
        };
    </script>
</body>

</html>